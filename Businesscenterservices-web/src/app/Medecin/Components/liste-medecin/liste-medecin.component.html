


    <div class="pagetitle">
      <h1>Liste des Medecins</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a [routerLink]="'/Accueil/accueil'">ACCUEIL</a></li>
          <li class="breadcrumb-item">Liste</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->
<section class="section">
<!--**********************************
    Nav header end
***********************************-->

<!--**********************************
    Content body start
***********************************-->
<div class="content-body">
    <!-- row -->
    <div class="container-fluid">            
				<div class="row">
          <div class="col-lg-12">
            <div class="d-flex align-items-center mb-3 user-list-toggles w-100 gap-2">
              <div class="btn-group" role="group">
                <button type="button" class="btn btn-light" [class.active]="activeTab==='list'" (click)="setTab('list')">Vue Liste</button>
                <button type="button" class="btn btn-light" [class.active]="activeTab==='grid'" (click)="setTab('grid')">Vue Grille</button>
              </div>
              <a class="btn btn-primary px-3 ms-auto" [routerLink]="'/medecin/ajout'">
                <i class="bi bi-plus-circle me-1"></i> Ajouter
              </a>
            </div>
          </div>

          
              <div id="list-view" class="col-lg-12" *ngIf="activeTab==='list'">
                                <!-- medecin-search.component.html -->
                                <div class="card">
                                  <div class="card-body pt-3">
                                    <div class="d-flex align-items-center justify-content-between mb-2">
                                      <h4 class="card-title mb-0">Médecins</h4>
                                      <div class="input-group medecin-search-input" style="max-width: 260px;">
                                        <input class="form-control with-blue-border" type="search" [(ngModel)]="filterText" [ngModelOptions]="{standalone: true}" placeholder="Rechercher" aria-label="Search">
                                        <span class="input-group-text"><i class="bi bi-search"></i></span>
                                      </div>
                                    </div>
                                    <div *ngIf="!(medecins.length > 0)">
                                        <div class="table-responsive">
                                                 <table class="table datatable">
                                                  <thead>
                                                    <tr>
                                                        <th>Nom</th>
                                                        <th>Prenom</th>
                                                        <th>Adresse</th>
                                                        <th>Sexe</th>
                                                        <th>Date de Naissance</th>
                                                        <th>Email</th>
                                                        <th>Telephone</th>
                                                        <th>Specialité</th>  
                                                        <th style="min-width: 200px">N° Rpps</th>
                                                        <th>N° Securite Sociale</th>
                                                        <th style="text-align: center;">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                     <tr *ngFor="let medecin of Medecin | search: filterText">
                                                        <td style="min-width: 200px">Dr. {{medecin?.nomMedecin}}</td>
                                                        <td style="min-width: 250px">{{medecin?.prenomMedecin}}</td>
                                                        <td style="min-width: 200px">{{medecin?.adresse?.ville}}</td>
                                                        <td style="min-width: 200px">{{medecin?.sexeMedecin}}</td>    
                                                        <td style="min-width: 250px">{{ medecin?.dateDeNaissanceMedecin| date:'dd-MM-yyyy' }}</td>
                                                        <td style="min-width: 200px">{{medecin?.emailMedecin}}</td>
                                                        <td style="min-width: 200px;">
                                                            <div style="display: flex;">
                                                              <div>{{medecin?.telephoneMedecin_1}}</div>
                                                              <div *ngIf="medecin?.telephoneMedecin_2"> | </div>
                                                              <div *ngIf="medecin?.telephoneMedecin_2">{{medecin?.telephoneMedecin_2}}</div>
                                                            </div>
                                                          </td>                                                       
                                                        <div style="display: flex;">
                                                            <ng-container *ngFor="let specialite of medecin.specialites; let last = last">
                                                              <div>{{specialite.nomSpecialite}}</div>
                                                              <div *ngIf="!last" class="separator">|</div>
                                                            </ng-container>
                                                        </div> 
                                                        <td style="min-width: 200px">{{medecin?.numeroRpps}}</td>
                                                        <td style="min-width: 200px">{{medecin?.numeroSecuriteSocialeMedecin}}</td>

                                                        <td style="min-width: 250px; text-align: center;">
                                                            <a href="assets/js/javascript:void(0);" class="btn btn-sm btn-primary" style="margin: 5px;" ><i class="la la-pencil"></i>Modifier</a>
                                                            <a href="assets/js/javascript:void(0);" class="btn btn-sm btn-danger"><i class="la la-trash-o"></i>Supprimer</a>
                                                        </td>												
                                                    </tr>
                                                </tbody>
                                            </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
              </div>

              <div id="grid-view" class="col-lg-12" *ngIf="activeTab==='grid'">
                <div class="row user-grid g-3">
                  <div class="col-12 text-center text-muted" *ngIf="(Medecin | search: filterText).length === 0">
                    Aucun médecin trouvé.
                  </div>
                  <div class="col-lg-3 col-md-4 col-sm-6 col-12" *ngFor="let medecin of Medecin | search: filterText">
                    <div class="card user-grid-card h-100">
                      <div class="card-body d-flex align-items-center gap-3">
                        <div class="profile-photo flex-shrink-0">
                          <img src="assets/img/profile-img.jpg" class="rounded-circle" alt="">
                        </div>
                        <div class="flex-grow-1">
                          <div class="fw-semibold small">Dr. {{medecin?.nomMedecin}} {{medecin?.prenomMedecin}}</div>
                          <div class="text-muted extra-small">{{medecin?.adresse?.ville}} • {{medecin?.emailMedecin}}</div>
                          <div class="text-muted extra-small">{{medecin?.telephoneMedecin_1}}</div>
                          <a class="btn btn-outline-primary btn-sm mt-2" [routerLink]="['/medecin/profil', medecin?.id]">Aperçu</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          </div> 
</section>


