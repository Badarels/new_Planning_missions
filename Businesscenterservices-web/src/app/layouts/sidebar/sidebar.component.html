<!-- ======= Sidebar ======= -->
<aside id="sidebar" class="sidebar">
  <div class="sidebar-header d-flex align-items-center justify-content-between">
    <h5 class="sidebar-title mb-0 fw-bold text-primary text-uppercase position-relative">Menu</h5>
    <style>
      .sidebar-title {
        font-weight: 600;
        color: #012970;
        font-size: 1.1rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
    </style>
    <button class="btn btn-link p-0 d-lg-none" (click)="toggle()">
      <i class="bi bi-x-lg"></i>
    </button>
  </div>
  <div class="sidebar-content">
    <ul class="sidebar-nav" id="sidebar-nav">
    <!-- Dashboard -->
    <li class="nav-item mb-1">
      <a class="nav-link d-flex align-items-center gap-2" routerLink="/Accueil" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        <i class="bi bi-speedometer2 fs-5"></i>
        <span>Tableau de bord</span>
      </a>
    </li>

    <!-- Utilisateurs -->
    <li class="nav-item mb-1">
      <a class="nav-link d-flex align-items-center justify-content-between" [class.collapsed]="usersCollapsed" (click)="toggleSection('users'); $event.preventDefault()" role="button" href="#">
        <i class="bi bi-people fs-5 me-2"></i>
        <span>Utilisateurs</span>
        <i class="bi bi-chevron-down ms-auto"></i>
      </a>
      <div id="users-nav" class="collapse" [ngbCollapse]="usersCollapsed">
        <ul class="nav-content list-unstyled ms-4 mt-1">
          <li>
            <a routerLink="/listeUtilisateur/ajout" routerLinkActive="active">
              <i class="bi bi-person-plus"></i> Nouvel utilisateur
            </a>
          </li>
          <li>
            <a routerLink="/listeUtilisateur" routerLinkActive="active">
              <i class="bi bi-list-ul"></i> Liste des utilisateurs
            </a>
          </li>
        </ul>
      </div>
    </li>

    <!-- Clients -->
    <li class="nav-item mb-1">
      <a class="nav-link d-flex align-items-center justify-content-between" [class.collapsed]="clientsCollapsed" (click)="toggleSection('clients'); $event.preventDefault()" role="button" href="#">
        <i class="bi bi-briefcase fs-5 me-2"></i>
        <span>Clients</span>
        <i class="bi bi-chevron-down ms-auto"></i>
      </a>
      <div id="clients-nav" class="collapse" [ngbCollapse]="clientsCollapsed">
        <ul class="nav-content list-unstyled ms-4 mt-1">
          <li>
            <a routerLink="/medecin" routerLinkActive="active">
              <i class="bi bi-person-badge"></i> Médecins
            </a>
          </li>
          <li>
            <a routerLink="/list-CentreHospitalier" routerLinkActive="active">
              <i class="bi bi-hospital"></i> Centres Hospitaliers
            </a>
          </li>
        </ul>
      </div>
    </li>

    <!-- Missions -->
    <li class="nav-item mb-1">
      <a class="nav-link d-flex align-items-center justify-content-between" [class.collapsed]="missionsCollapsed" (click)="toggleSection('missions'); $event.preventDefault()" role="button" href="#">
        <i class="bi bi-journal-text fs-5 me-2"></i>
        <span>Missions</span>
        <i class="bi bi-chevron-down ms-auto"></i>
      </a>
      <div id="missions-nav" class="collapse" [ngbCollapse]="missionsCollapsed">
        <ul class="nav-content list-unstyled ms-4 mt-1">
          <li>
            <a routerLink="/mission/ajout-mission" routerLinkActive="active">
              <i class="bi bi-plus-circle"></i> Nouvelle mission
            </a>
          </li>
          <li>
            <a routerLink="/mission" routerLinkActive="active">
              <i class="bi bi-list-ul"></i> Liste des missions
            </a>
          </li>
        </ul>
      </div>
    </li>

    <!-- Planning -->
    <li class="nav-item mb-1">
      <a class="nav-link d-flex align-items-center gap-2" routerLink="/planningMission/plannig" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        <i class="bi bi-calendar-week fs-5"></i>
        <span>Planning</span>
      </a>
    </li>

    <!-- Stockages -->
    <li class="nav-item mb-1">
      <a class="nav-link d-flex align-items-center gap-2" routerLink="#">
        <i class="bi bi-archive fs-5"></i>
        <span>Stockages</span>
      </a>
    </li>

    <!-- Personnels -->
    <li class="nav-item mb-1">
      <a class="nav-link d-flex align-items-center justify-content-between" [class.collapsed]="personnelCollapsed" (click)="toggleSection('personnel'); $event.preventDefault()" role="button" href="#">
        <i class="bi bi-people-fill fs-5 me-2"></i>
        <span>Personnels</span>
        <i class="bi bi-chevron-down ms-auto"></i>
      </a>
      <div id="personnel-nav" class="collapse" [ngbCollapse]="personnelCollapsed">
        <ul class="nav-content list-unstyled ms-4 mt-1">
          <li>
            <a routerLink="/employe/ajout" routerLinkActive="active">
              <i class="bi bi-person-plus"></i> Nouvel employé
            </a>
          </li>
          <li>
            <a routerLink="/employe" routerLinkActive="active">
              <i class="bi bi-list-ul"></i> Liste du personnel
            </a>
          </li>
        </ul>
      </div>
    </li>
    </ul>
  </div>
</aside>

<!-- Overlay pour mobile -->
<div *ngIf="isMobile && isCollapsed" class="sidebar-overlay" (click)="toggle()"></div>
